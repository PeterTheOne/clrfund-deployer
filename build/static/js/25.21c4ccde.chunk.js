(this["webpackJsonp@clrfund-deployer/web3"]=this["webpackJsonp@clrfund-deployer/web3"]||[]).push([[25],{1178:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"default",(function(){return h}));var n=r(5),i=r(7),o=r(1179),a=r(432),c=(r(39),r(252)),s={eth:1,erc20:2,erc721:3,erc20mintable:4,erc721mintable:5};function u(t){return e.from(t.startsWith("0x")?t.slice(2):t,"hex")}function l(e){return e?u(e):null}var h=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w0w";Object(n.a)(this,t),this.transport=void 0,this.transport=e,e.decorateAppAPIMethods(this,["getAddress","provideERC20TokenInformation","signTransaction","signPersonalMessage","getAppConfiguration","signEIP712HashedMessage","starkGetPublicKey","starkSignOrder","starkSignOrder_v2","starkSignTransfer","starkSignTransfer_v2","starkProvideQuantum","starkProvideQuantum_v2","starkUnsafeSign","eth2GetPublicKey","eth2SetWithdrawalIndex"],r)}return Object(i.a)(t,[{key:"getAddress",value:function(t,r,n){var i=Object(o.b)(t),a=e.alloc(1+4*i.length);return a[0]=i.length,i.forEach((function(e,t){a.writeUInt32BE(e,1+4*t)})),this.transport.send(224,2,r?1:0,n?1:0,a).then((function(e){var t={},r=e[0],i=e[1+r];return t.publicKey=e.slice(1,1+r).toString("hex"),t.address="0x"+e.slice(1+r+1,1+r+1+i).toString("ascii"),n&&(t.chainCode=e.slice(1+r+1+i,1+r+1+i+32).toString("hex")),t}))}},{key:"provideERC20TokenInformation",value:function(e){var t=e.data;return this.transport.send(224,10,0,0,t).then((function(){return!0}),(function(e){if(e&&27904===e.statusCode)return!1;throw e}))}},{key:"signTransaction",value:function(t,r){var n,i=this,s=Object(o.b)(t),u=0,l=e.from(r,"hex"),h=[],d=Object(c.decode)(l),f=0,g="";if(d.length>6){var p=Object(c.encode)(d.slice(-3));f=l.length-(p.length-1);var E=d[6],v=e.alloc(4);E.copy(v,4-E.length),(g=(2*v.readUInt32BE(0)+35).toString(16).slice(0,-2)).length%2===1&&(g="0"+g)}for(var S=function(){var t=0===u?149-4*s.length:150,r=u+t>l.length?l.length-u:t;0!=f&&u+r==f&&r--;var n=e.alloc(0===u?1+4*s.length+r:r);0===u?(n[0]=s.length,s.forEach((function(e,t){n.writeUInt32BE(e,1+4*t)})),l.copy(n,1+4*s.length,u,u+r)):l.copy(n,0,u,u+r),h.push(n),u+=r};u!==l.length;)S();return Object(o.a)(h,(function(e,t){return i.transport.send(224,4,0===t?0:128,0,e).then((function(e){n=e}))})).then((function(){return{v:g+n.slice(0,1).toString("hex"),r:n.slice(1,33).toString("hex"),s:n.slice(33,65).toString("hex")}}),(function(e){throw function(e){return e&&27264===e.statusCode?new a.a("Please enable Contract data on the Ethereum app Settings"):e}(e)}))}},{key:"getAppConfiguration",value:function(){return this.transport.send(224,6,0,0).then((function(e){var t={};return t.arbitraryDataEnabled=1&e[0],t.erc20ProvisioningNecessary=2&e[0],t.starkEnabled=4&e[0],t.starkv2Supported=8&e[0],t.version=e[1]+"."+e[2]+"."+e[3],t}))}},{key:"signPersonalMessage",value:function(t,r){for(var n,i=this,a=Object(o.b)(t),c=0,s=e.from(r,"hex"),u=[],l=function(){var t=0===c?149-4*a.length-4:150,r=c+t>s.length?s.length-c:t,n=e.alloc(0===c?1+4*a.length+4+r:r);0===c?(n[0]=a.length,a.forEach((function(e,t){n.writeUInt32BE(e,1+4*t)})),n.writeUInt32BE(s.length,1+4*a.length),s.copy(n,1+4*a.length+4,c,c+r)):s.copy(n,0,c,c+r),u.push(n),c+=r};c!==s.length;)l();return Object(o.a)(u,(function(e,t){return i.transport.send(224,8,0===t?0:128,0,e).then((function(e){n=e}))})).then((function(){return{v:n[0],r:n.slice(1,33).toString("hex"),s:n.slice(33,65).toString("hex")}}))}},{key:"signEIP712HashedMessage",value:function(t,r,n){var i=u(r),a=u(n),c=Object(o.b)(t),s=e.alloc(1+4*c.length+32+32,0),l=0;return s[0]=c.length,c.forEach((function(e,t){s.writeUInt32BE(e,1+4*t)})),l=1+4*c.length,i.copy(s,l),l+=32,a.copy(s,l),this.transport.send(224,12,0,0,s).then((function(e){return{v:e[0],r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")}}))}},{key:"starkGetPublicKey",value:function(t,r){var n=Object(o.b)(t),i=e.alloc(1+4*n.length);return i[0]=n.length,n.forEach((function(e,t){i.writeUInt32BE(e,1+4*t)})),this.transport.send(240,2,r?1:0,0,i).then((function(e){return e.slice(0,e.length-2)}))}},{key:"starkSignOrder",value:function(t,r,n,i,a,c,s,u,h,d,f){var g=l(r),p=l(i),E=Object(o.b)(t),v=e.alloc(1+4*E.length+20+32+20+32+4+4+8+8+4+4,0),S=0;return v[0]=E.length,E.forEach((function(e,t){v.writeUInt32BE(e,1+4*t)})),S=1+4*E.length,g&&g.copy(v,S),S+=20,e.from(n.toString(16).padStart(64,"0"),"hex").copy(v,S),S+=32,p&&p.copy(v,S),S+=20,e.from(a.toString(16).padStart(64,"0"),"hex").copy(v,S),S+=32,v.writeUInt32BE(c,S),S+=4,v.writeUInt32BE(s,S),S+=4,e.from(u.toString(16).padStart(16,"0"),"hex").copy(v,S),S+=8,e.from(h.toString(16).padStart(16,"0"),"hex").copy(v,S),S+=8,v.writeUInt32BE(d,S),S+=4,v.writeUInt32BE(f,S),this.transport.send(240,4,1,0,v).then((function(e){return{r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")}}))}},{key:"starkSignOrder_v2",value:function(t,r,n,i,a,c,u,h,d,f,g,p,E,v,S){var I=l(r),y=l(c);if(!(n in s))throw new Error("eth.starkSignOrderv2 invalid source quantization type="+n);if(!(u in s))throw new Error("eth.starkSignOrderv2 invalid destination quantization type="+u);var w=Object(o.b)(t),m=e.alloc(1+4*w.length+1+20+32+32+1+20+32+32+4+4+8+8+4+4,0),T=0;return m[0]=w.length,w.forEach((function(e,t){m.writeUInt32BE(e,1+4*t)})),T=1+4*w.length,m[T]=s[n],T++,I&&I.copy(m,T),T+=20,i&&e.from(i.toString(16).padStart(64,"0"),"hex").copy(m,T),T+=32,a&&e.from(a.toString(16).padStart(64,"0"),"hex").copy(m,T),m[T+=32]=s[u],T++,y&&y.copy(m,T),T+=20,h&&e.from(h.toString(16).padStart(64,"0"),"hex").copy(m,T),T+=32,d&&e.from(d.toString(16).padStart(64,"0"),"hex").copy(m,T),T+=32,m.writeUInt32BE(f,T),T+=4,m.writeUInt32BE(g,T),T+=4,e.from(p.toString(16).padStart(16,"0"),"hex").copy(m,T),T+=8,e.from(E.toString(16).padStart(16,"0"),"hex").copy(m,T),T+=8,m.writeUInt32BE(v,T),T+=4,m.writeUInt32BE(S,T),this.transport.send(240,4,3,0,m).then((function(e){return{r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")}}))}},{key:"starkSignTransfer",value:function(t,r,n,i,a,c,s,h,d){var f=l(r),g=u(i),p=Object(o.b)(t),E=e.alloc(1+4*p.length+20+32+32+4+4+8+4+4,0),v=0;return E[0]=p.length,p.forEach((function(e,t){E.writeUInt32BE(e,1+4*t)})),v=1+4*p.length,f&&f.copy(E,v),v+=20,e.from(n.toString(16).padStart(64,"0"),"hex").copy(E,v),v+=32,g.copy(E,v),v+=32,E.writeUInt32BE(a,v),v+=4,E.writeUInt32BE(c,v),v+=4,e.from(s.toString(16).padStart(16,"0"),"hex").copy(E,v),v+=8,E.writeUInt32BE(h,v),v+=4,E.writeUInt32BE(d,v),this.transport.send(240,4,2,0,E).then((function(e){return{r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")}}))}},{key:"starkSignTransfer_v2",value:function(t,r,n,i,a,c,h,d,f,g,p,E,v){var S=l(r),I=u(c),y=l(E);if(!(n in s))throw new Error("eth.starkSignTransferv2 invalid quantization type="+n);var w=Object(o.b)(t),m=e.alloc(1+4*w.length+1+20+32+32+32+4+4+8+4+4+(y?52:0),0),T=0;return m[0]=w.length,w.forEach((function(e,t){m.writeUInt32BE(e,1+4*t)})),T=1+4*w.length,m[T]=s[n],T++,S&&S.copy(m,T),T+=20,i&&e.from(i.toString(16).padStart(64,"0"),"hex").copy(m,T),T+=32,a&&e.from(a.toString(16).padStart(64,"0"),"hex").copy(m,T),T+=32,I.copy(m,T),T+=32,m.writeUInt32BE(h,T),T+=4,m.writeUInt32BE(d,T),T+=4,e.from(f.toString(16).padStart(16,"0"),"hex").copy(m,T),T+=8,m.writeUInt32BE(g,T),T+=4,m.writeUInt32BE(p,T),y&&v&&(T+=4,e.from(v.toString(16).padStart(64,"0"),"hex").copy(m,T),T+=32,y.copy(m,T)),this.transport.send(240,4,y?5:4,0,m).then((function(e){return{r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")}}))}},{key:"starkProvideQuantum",value:function(t,r){var n=l(t),i=e.alloc(52,0);return n&&n.copy(i,0),e.from(r.toString(16).padStart(64,"0"),"hex").copy(i,20),this.transport.send(240,8,0,0,i).then((function(){return!0}),(function(e){if(e&&27904===e.statusCode)return!1;throw e}))}},{key:"starkProvideQuantum_v2",value:function(t,r,n,i){var o=l(t);if(!(r in s))throw new Error("eth.starkProvideQuantumV2 invalid quantization type="+r);var a=e.alloc(84,0),c=0;return o&&o.copy(a,c),c+=20,n&&e.from(n.toString(16).padStart(64,"0"),"hex").copy(a,c),c+=32,i&&e.from(i.toString(16).padStart(64,"0"),"hex").copy(a,c),this.transport.send(240,8,s[r],0,a).then((function(){return!0}),(function(e){if(e&&27904===e.statusCode)return!1;throw e}))}},{key:"starkUnsafeSign",value:function(t,r){var n,i=u(r),a=Object(o.b)(t),c=e.alloc(1+4*a.length+32);return c[0]=a.length,a.forEach((function(e,t){c.writeUInt32BE(e,1+4*t)})),n=1+4*a.length,i.copy(c,n),this.transport.send(240,10,0,0,c).then((function(e){return{r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")}}))}},{key:"eth2GetPublicKey",value:function(t,r){var n=Object(o.b)(t),i=e.alloc(1+4*n.length);return i[0]=n.length,n.forEach((function(e,t){i.writeUInt32BE(e,1+4*t)})),this.transport.send(224,14,r?1:0,0,i).then((function(e){var t={};return t.publicKey=e.slice(0,-2).toString("hex"),t}))}},{key:"eth2SetWithdrawalIndex",value:function(t){var r=e.alloc(4,0);return r.writeUInt32BE(t,0),this.transport.send(224,16,0,0,r).then((function(){return!0}),(function(e){if(e&&27904===e.statusCode)return!1;throw e}))}}]),t}()}.call(this,r(239).Buffer)},1179:function(e,t,r){"use strict";function n(e){var t=[];return e.split("/").forEach((function(e){var r=parseInt(e,10);isNaN(r)||(e.length>1&&"'"===e[e.length-1]&&(r+=2147483648),t.push(r))})),t}function i(e,t){function r(e,n,i){return e>=n.length?i:t(n[e],e).then((function(t){return i.push(t),r(e+1,n,i)}))}return Promise.resolve().then((function(){return r(0,e,[])}))}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}))},252:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getLength=t.decode=t.encode=void 0;var n=r(19);function i(e,t){if("00"===e.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function o(t,r){if(t<56)return e.from([t+r]);var n=s(t),i=s(r+55+n.length/2);return e.from(i+n,"hex")}function a(t){var r,n,o,c,s,u=[],l=t[0];if(l<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(l<=183){if(r=l-127,o=128===l?e.from([]):t.slice(1,r),2===r&&o[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:o,remainder:t.slice(r)}}if(l<=191){if(n=l-182,t.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if((r=i(t.slice(1,n).toString("hex"),16))<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if((o=t.slice(n,r+n)).length<r)throw new Error("invalid RLP: not enough bytes for string");return{data:o,remainder:t.slice(r+n)}}if(l<=247){for(r=l-191,c=t.slice(1,r);c.length;)s=a(c),u.push(s.data),c=s.remainder;return{data:u,remainder:t.slice(r)}}var h=(n=l-246)+(r=i(t.slice(1,n).toString("hex"),16));if(h>t.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(c=t.slice(n,h)).length)throw new Error("invalid rlp, List has a invalid length");for(;c.length;)s=a(c),u.push(s.data),c=s.remainder;return{data:u,remainder:t.slice(h)}}function c(e){return"0x"===e.slice(0,2)}function s(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function u(t){if(!e.isBuffer(t)){if("string"===typeof t)return c(t)?e.from((r="string"!==typeof(i=t)?i:c(i)?i.slice(2):i).length%2?"0"+r:r,"hex"):e.from(t);if("number"===typeof t||"bigint"===typeof t)return t?function(t){var r=s(t);return e.from(r,"hex")}(t):e.from([]);if(null===t||void 0===t)return e.from([]);if(t instanceof Uint8Array)return e.from(t);if(n.isBN(t))return e.from(t.toArray());throw new Error("invalid type")}var r,i;return t}t.encode=function t(r){if(Array.isArray(r)){for(var n=[],i=0;i<r.length;i++)n.push(t(r[i]));var a=e.concat(n);return e.concat([o(a.length,192),a])}var c=u(r);return 1===c.length&&c[0]<128?c:e.concat([o(c.length,128),c])},t.decode=function(t,r){if(void 0===r&&(r=!1),!t||0===t.length)return e.from([]);var n=a(u(t));if(r)return n;if(0!==n.remainder.length)throw new Error("invalid remainder");return n.data},t.getLength=function(t){if(!t||0===t.length)return e.from([]);var r=u(t),n=r[0];if(n<=127)return r.length;if(n<=183)return n-127;if(n<=191)return n-182;if(n<=247)return n-191;var o=n-246;return o+i(r.slice(1,o).toString("hex"),16)}}).call(this,r(239).Buffer)},432:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return h}));var n={},i={},o=function(e,t){i[e]=t},a=function(e){var t=function(t,r){Object.assign(this,r),this.name=e,this.message=t||e,this.stack=(new Error).stack};return t.prototype=new Error,n[e]=t,t};a("AccountNameRequired"),a("AccountNotSupported"),a("AmountRequired"),a("BluetoothRequired"),a("BtcUnmatchedApp"),a("CantOpenDevice"),a("CashAddrNotSupported"),a("CurrencyNotSupported"),a("DeviceAppVerifyNotSupported"),a("DeviceGenuineSocketEarlyClose"),a("DeviceNotGenuine"),a("DeviceOnDashboardExpected"),a("DeviceOnDashboardUnexpected"),a("DeviceInOSUExpected"),a("DeviceHalted"),a("DeviceNameInvalid"),a("DeviceSocketFail"),a("DeviceSocketNoBulkStatus"),a("DisconnectedDevice"),a("DisconnectedDeviceDuringOperation"),a("EnpointConfig");var c=a("EthAppPleaseEnableContractData"),s=(a("FeeEstimationFailed"),a("FirmwareNotRecognized"),a("HardResetFail"),a("InvalidXRPTag"),a("InvalidAddress"),a("InvalidAddressBecauseDestinationIsAlsoSource"),a("LatestMCUInstalledError"),a("UnknownMCU"),a("LedgerAPIError"),a("LedgerAPIErrorWithMessage"),a("LedgerAPINotAvailable"),a("ManagerAppAlreadyInstalled"),a("ManagerAppRelyOnBTC"),a("ManagerAppDepInstallRequired"),a("ManagerAppDepUninstallRequired"),a("ManagerDeviceLocked"),a("ManagerFirmwareNotEnoughSpace"),a("ManagerNotEnoughSpace"),a("ManagerUninstallBTCDep"),a("NetworkDown"),a("NoAddressesFound"),a("NotEnoughBalance"),a("NotEnoughBalanceToDelegate"),a("NotEnoughBalanceInParentAccount"),a("NotEnoughSpendableBalance"),a("NotEnoughBalanceBecauseDestinationNotCreated"),a("NoAccessToCamera"),a("NotEnoughGas"),a("NotSupportedLegacyAddress"),a("GasLessThanEstimate"),a("PasswordsDontMatch"),a("PasswordIncorrect"),a("RecommendSubAccountsToEmpty"),a("RecommendUndelegation"),a("TimeoutTagged"),a("UnexpectedBootloader"),a("MCUNotGenuineToDashboard"),a("RecipientRequired"),a("UnavailableTezosOriginatedAccountReceive"),a("UnavailableTezosOriginatedAccountSend"),a("UpdateFetchFileFail"),a("UpdateIncorrectHash"),a("UpdateIncorrectSig"),a("UpdateYourApp"),a("UserRefusedDeviceNameChange"),a("UserRefusedAddress"),a("UserRefusedFirmwareUpdate"),a("UserRefusedAllowManager"),a("UserRefusedOnDevice"),a("TransportOpenUserCancelled"),a("TransportInterfaceNotAvailable"),a("TransportRaceCondition"));a("TransportWebUSBGestureRequired"),a("DeviceShouldStayInApp"),a("WebsocketConnectionError"),a("WebsocketConnectionFailed"),a("WrongDeviceForAccount"),a("WrongAppForCurrency"),a("ETHAddressNonEIP"),a("CantScanQRCode"),a("FeeNotLoaded"),a("FeeRequired"),a("FeeTooHigh"),a("SyncError"),a("PairingFailed"),a("GenuineCheckFailed"),a("LedgerAPI4xx"),a("LedgerAPI5xx"),a("FirmwareOrAppUpdateRequired"),a("NoDBPathGiven"),a("DBWrongPassword"),a("DBNotReset");function u(e,t){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=t}u.prototype=new Error,o("TransportError",(function(e){return new u(e.message,e.id)}));var l={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function h(e){this.name="TransportStatusError";var t=Object.keys(l).find((function(t){return l[t]===e}))||"UNKNOWN_ERROR",r=function(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}(e)||t,n=e.toString(16);this.message="Ledger device: "+r+" (0x"+n+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}h.prototype=new Error,o("TransportStatusError",(function(e){return new h(e.statusCode)}))}}]);
//# sourceMappingURL=25.21c4ccde.chunk.js.map